# Required Files - OneShot MVP

## Critical System Files

### Environment Configuration
- `.env` - **CRITICAL** - Contains SendGrid API key and email configuration
- `env.example` - Template for environment variables
- `package.json` - Node.js dependencies and scripts
- `package-lock.json` - Locked dependency versions

### Server Core
- `server/index.js` - Main Express server entry point
- `server/contact-form.js` - Contact form validation and email sending
- `server/profile-generator.js` - Static profile HTML generation
- `server/file-upload.js` - File upload handling and processing

### Templates & Static Assets
- `templates/profile-template.html` - Handlebars template for athlete profiles
- `public/` - Static file serving directory
- `public/profiles/` - Generated profile HTML files
- `public/uploads/` - Uploaded files (photos, documents)

### AI Governance & Behavioral Enforcement
- `.cursor/project.mdc` - **PROTECTED** - Project context and behavioral rules
- `.cursor/system.mdc` - **PROTECTED** - System-wide AI governance rules
- `.cursor/system-directives/ai-protection.md` - **CRITICAL** - File protection directive
- `method-removal-audit.md` - **PROTECTED** - Audit template for method removal
- `pattern-change-audit.md` - **PROTECTED** - Audit template for pattern changes

### Documentation System
- `.cursor/project.mdc` - Project context for Cursor IDE
- `.cursor/system.mdc` - Development standards and patterns
- `docs/features/IMPLEMENTED-FEATURES.md` - **PROTECTED** - Feature completion tracking
- `docs/internal/REQUIRED-FILES.md` - **PROTECTED** - This file

### Quality Assurance
- `justified-over-budget.json` - Code complexity tracking
- `scripts/system-health-check.js` - System health monitoring
- `scripts/effective-refactor-check.js` - Refactoring status validation

### Process Management
- PM2 ecosystem files (if using PM2)
- `.gitignore` - Git exclusion rules
- `README.md` - Project overview and setup instructions

## üö® PROTECTED FILES - DO NOT DELETE OR ALTER

### AI Governance System (SACRED)
```
.cursor/
‚îú‚îÄ‚îÄ project.mdc           # Project behavioral rules
‚îú‚îÄ‚îÄ system.mdc            # System governance rules
‚îî‚îÄ‚îÄ system-directives/
    ‚îî‚îÄ‚îÄ ai-protection.md  # File protection directive

method-removal-audit.md   # Audit template for deletions
pattern-change-audit.md   # Audit template for changes
```

### Documentation System (PROTECTED)
```
docs/
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îî‚îÄ‚îÄ IMPLEMENTED-FEATURES.md  # Feature tracking
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îî‚îÄ‚îÄ REQUIRED-FILES.md        # This file
‚îî‚îÄ‚îÄ health-reports/              # System health reports
```

**‚ö†Ô∏è WARNING: These files control AI behavioral enforcement, system integrity, and documentation synchronization. Deletion or unauthorized modification will compromise the AI governance system.**

## File Dependencies

### Contact Form System
```
server/contact-form.js
‚îú‚îÄ‚îÄ Requires: @sendgrid/mail, zod
‚îú‚îÄ‚îÄ Environment: SENDGRID_API_KEY, CONTACT_EMAIL_RECIPIENT
‚îî‚îÄ‚îÄ Used by: server/index.js

templates/profile-template.html
‚îú‚îÄ‚îÄ Contains: Contact form HTML and JavaScript
‚îú‚îÄ‚îÄ Data dependencies: athleteSlug for form submission
‚îî‚îÄ‚îÄ Generated by: server/profile-generator.js
```

### Profile Generation
```
server/profile-generator.js
‚îú‚îÄ‚îÄ Requires: handlebars, qrcode
‚îú‚îÄ‚îÄ Templates: templates/profile-template.html
‚îú‚îÄ‚îÄ Output: public/profiles/{slug}.html
‚îî‚îÄ‚îÄ Data: JSON athlete profile data
```

### File Upload System
```
server/file-upload.js
‚îú‚îÄ‚îÄ Requires: multer, sharp
‚îú‚îÄ‚îÄ Upload directory: public/uploads/
‚îú‚îÄ‚îÄ Supported formats: JPEG, PNG, PDF
‚îî‚îÄ‚îÄ Security: File type validation, size limits
```

### AI Governance Integration
```
.cursor/system.mdc
‚îú‚îÄ‚îÄ References: .cursor/system-directives/ai-protection.md
‚îú‚îÄ‚îÄ Enforces: method-removal-audit.md, pattern-change-audit.md
‚îú‚îÄ‚îÄ Monitors: docs/features/IMPLEMENTED-FEATURES.md
‚îî‚îÄ‚îÄ Validates: All system-wide behavioral constraints
```

## Missing File Recovery

### If .env is missing:
1. Copy env.example to .env
2. Add real SendGrid API key
3. Set CONTACT_EMAIL_RECIPIENT
4. Restart server

### If node_modules is missing:
```bash
cd oneshot-mvp
npm install
```

### If public directories are missing:
```bash
mkdir -p public/profiles
mkdir -p public/uploads
```

### If templates are corrupted:
- Restore from git backup
- Ensure Handlebars syntax is valid
- Test with sample athlete data

### If AI governance files are missing:
**CRITICAL SYSTEM FAILURE - IMMEDIATE ESCALATION REQUIRED**
1. Create system-lock.json to stop all AI work
2. Alert Eric immediately
3. Restore from git backup
4. Verify complete .cursor/ directory structure
5. Run system health check before proceeding

## Backup Strategy

### Critical Files to Commit:
- All source code in server/
- All templates in templates/
- Environment configuration (.env.example)
- **ALL AI governance files (.cursor/, audit templates)**
- Documentation in docs/
- Quality assurance scripts
- Package.json and dependencies

### Never Commit:
- `.env` (contains secrets)
- `node_modules/` (rebuild with npm install)
- Generated files in `public/profiles/`
- Uploaded files in `public/uploads/`
- Log files

### **PROTECTED FILES - SPECIAL BACKUP:**
- `.cursor/` directory must be backed up with highest priority
- AI governance files require versioned backup before any changes
- Documentation files (.md) must be committed after every update

## Verification Checklist

### System Health Check:
- [ ] All required files exist
- [ ] Environment variables load correctly
- [ ] Server starts without errors
- [ ] Contact form submits successfully
- [ ] Profile generation works
- [ ] File uploads process correctly
- [ ] **AI governance system active and enforced**

### After File Recovery:
1. Run `npm install` in oneshot-mvp/
2. Verify .env file contents
3. Test server startup: `npm start`
4. Test contact form functionality
5. Generate a test profile
6. Upload a test file
7. **Verify AI protection directive is active**
8. **Run system health check and confirm 80%+ integrity**

## Emergency Contacts

If critical files are lost and cannot be recovered:
- Check git history for previous versions
- Refer to conversation logs for implementation details
- Use system-health-check.js to identify missing components
- Follow implementation patterns in .cursor/system.mdc
- **If AI governance files are missing: STOP ALL WORK and alert Eric**

## File Protection Enforcement

This file is part of the AI Integrity Enforcement Architecture. Any modifications to the structure or content of protected files must:

1. Complete appropriate audit templates
2. Receive explicit Eric approval
3. Maintain system health above 80%
4. Preserve behavioral enforcement integrity

**Trust in the AI system is preserved only when file protection is enforced.** 